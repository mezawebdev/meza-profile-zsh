export sandbox_dir="$HOME/Sandbox"

current_branch() {
  if [ -d .git ] || git rev-parse --git-dir > /dev/null 2>&1; then
    git rev-parse --abbrev-ref HEAD
  else
    echo "Not in a Git repository."
  fi
}

js-sandbox-new() {
  local min=${1:-1}
  local max=${2:-100}
  local dirname="app-$(( (RANDOM % (max - min + 1)) + min ))"
  local sandbox_path="${sandbox_dir}/${dirname}"

  mkdir ${sandbox_path}
  cd ${sandbox_path}
  touch index.js
  npm init -y
  code ${sandbox_path}
}

# general
alias zshrc="nvim ~/meza-profile-zsh/.zsh-profile"
alias refresh="source ~/meza-profile-zsh/.zsh-profile"

# locations
alias projects="cd ~/Projects"

# git
alias save="git add . && git commit -m \"checkpoint\" && git push origin $(current_branch)"
alias ga="git add ."
alias gacm="git add . && git commit -m"
alias gpso="git push origin"
alias gplo="git pull origin"
alias gpsoc="git push origin $(current_branch)"
alias gm="git merge"
alias gs="git status"
alias gl="git log"
alias lg="lazygit"

# sandbox
alias purge-sandbox="rm -rf ${sandbox_dir} && mkdir ${sandbox_dir}"
