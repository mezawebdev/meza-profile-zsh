{
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "terminal-notifier -title 'Claude Code' -message 'Done' -appIcon ~/meza-zsh-profile/images/robot.png -sound default"
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); branch=$(echo \"$input\" | jq -r '.workspace.project_dir' | xargs -I {} git -C {} rev-parse --abbrev-ref HEAD 2>/dev/null || echo 'no-git'); model=$(echo \"$input\" | jq -r '.model.display_name'); project=$(echo \"$input\" | jq -r '.workspace.project_dir' | xargs basename); usage=$(echo \"$input\" | jq '.context_window.current_usage'); if [ \"$usage\" != \"null\" ]; then current=$(echo \"$usage\" | jq '.input_tokens + .cache_creation_input_tokens + .cache_read_input_tokens'); size=$(echo \"$input\" | jq '.context_window.context_window_size'); pct=$((current * 100 / size)); context=\"${pct}%\"; else context=\"0%\"; fi; printf \"branch: %s | model: %s | dir: %s | ctx: %s\" \"$branch\" \"$model\" \"$project\" \"$context\""
  }
}
